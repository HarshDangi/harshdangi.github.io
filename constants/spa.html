<!-- <!DOCTYPE html> -->
<html>
  <head>
    <title>Basic ajax request using node, express, and jQuery.</title>
    <link id="favicon" rel="icon" href="https://hyperdev.com/favicon-app.ico" type="image/x-icon">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <meta http-equiv="Content-Security-Policy" content="style-src-attr self;"> -->
    <link href="https://fonts.googleapis.com/css?family=Denk+One" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.theme.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.theme.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="/selector/style.css">
    
    <script>
       function getQueryParameterByName(name, url) {
          if (!url) url = window.location.href;
          name = name.replace(/[\[\]]/g, "\\$&");
          var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
              results = regex.exec(url);
          if (!results) return null;
          if (!results[2]) return '';
          return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        function spaNavigation(event) {
          let path = event.target.getAttribute('href');
          if(path) {
            path += document.location.search;
            event.preventDefault();
            window.history.pushState({}, null, path);
          }
        }
      
        function pressBttnTwice(selectorPath, mouseEventType) {
          const node = document.querySelector(selectorPath);
          var clickEvent = document.createEvent ('MouseEvents');
          clickEvent.initEvent (mouseEventType, true, true);
          node.dispatchEvent (clickEvent);
          node.dispatchEvent (clickEvent);
        }
    </script>
    <script>
      const params = new URLSearchParams(document.location.search);
      for (const [key, value] of params) {
        if(key.startsWith('set_')){
           window[key.slice(4)] = value;
        }
      }      
    </script>

    <!-- Start VWO Async SmartCode -->
    <script type='text/javascript'>
      window._vwo_code ||
  (function () {
    var account_id = getQueryParameterByName('accId') || 4000161,
      version = 2.0,
      settings_tolerance = 2000,
      hide_element = 'body',
      hide_element_style = 'opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important',
      /* DO NOT EDIT BELOW THIS LINE */
      f = false,
      d = document,
      v = d.querySelector('#vwoCode'),
      cK = '_vwo_' + account_id + '_settings', // ck stands for Caching key.
      /**
       * cc stands for Code config
       * It contains the following values : 
       * sT -> settings_tolerance(Number), stT -> storage type(String), hE -> hide_element(string), hES -> hide_element_style(string)
       */
      cc = {};
    try {
      var c = JSON.parse( localStorage.getItem('_vwo_' + account_id + '_config'));
      cc = c && typeof c === 'object' ? c : {};
    } catch (e) {} 
    var stT = cc.stT === 'session' ? window.sessionStorage : window.localStorage;
    code = {
        use_existing_jquery: function () {
          return typeof use_existing_jquery !== 'undefined' ? use_existing_jquery : undefined;
       },
       library_tolerance: function () {
          return typeof library_tolerance !== 'undefined' ? library_tolerance : undefined;
      },
      settings_tolerance: function () {
        return cc.sT || settings_tolerance;
      },
      hide_element_style: function () {
        return '{' + (cc.hES || hide_element_style) + '}';
      },
      hide_element: function () {
        return typeof cc.hE === 'string' ? cc.hE : hide_element;
      },
      getVersion: function () {
        return version;
      },
      finish: function () {
        if (!f) {
          f = true;
          var a = d.getElementById('_vis_opt_path_hides');
          if (a) a.parentNode.removeChild(a);
        }
      },
      finished: function () {
        return f;
      },
      load: function (a) {
        var s = this.getSettings(),
          b = d.createElement('script'),
          t = this;
        if (s) {
          b.textContent = s;
          d.getElementsByTagName('head')[0].appendChild(b);
          // This check is necessary to ensure jPhp loads in case the cache is corrupted or has a syntax error.
          if (!window.VWO || VWO.caE) { // caE -> stands for cache error (its value will be 1 if we enter cache block in jphp)
            stT.removeItem(cK);
            t.load(a);
          }
        } else {
          b.fetchPriority = 'high';
          b.src = a;
          b.type = 'text/javascript';
          b.onerror = function () {
            _vwo_code.finish();
          };
          d.getElementsByTagName('head')[0].appendChild(b);
        }
      },
      /**
       * @returns cached settings if valid.
       */
      getSettings: function () {
        try {
          var i = stT.getItem(cK);
          if (!i) {
            return;
          }
          i = JSON.parse(i);
          if (Date.now() > i.e) {
            stT.removeItem(cK);
            return;
          }
          return i.s;
        } catch (e) {
          return;
        }
      },
      init: function () {
        if (d.URL.indexOf('__vwo_disable__') > -1) return;
        var sT = this.settings_tolerance();
        window._vwo_settings_timer = setTimeout(function () {
          _vwo_code.finish();
          stT.removeItem(cK);
        }, sT);
        var cS = d.currentScript,
          a = d.createElement('style'),
          hE = this.hide_element(),
          b = cS && !cS.async && hE ? hE + this.hide_element_style() : '',
          h = d.getElementsByTagName('head')[0];
        a.setAttribute('id', '_vis_opt_path_hides');
        v && a.setAttribute('nonce', v.nonce);
        a.setAttribute('type', 'text/css');
        if (a.styleSheet) a.styleSheet.cssText = b;
        else a.appendChild(d.createTextNode(b));
        h.appendChild(a);
        this.load(
          'https://dev.visualwebsiteoptimizer.com/j.php?a=' + account_id + '&u=' + encodeURIComponent(d.URL) + '&vn=' + version
        );
      }
    };
    window._vwo_code = code;
    code.init();
  })();
    </script>
    <!-- End VWO Async SmartCode -->
  </head>
  
  <body>

  <div id="wrap">

    <nav class="navbar navbar-default" id="nav">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
          <div class="navbar-brand" href="#">LOGO GOES HERE</div>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="#slider">Start</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#teamSpacing">Team</a></li>
            <li><a href="#contactSpacing">Contact</a></li>
            <li><a id='spa1' href='/constants/spa2'>SPA</a></li>
            <li><a id="home" href="/constants/spa">Home</a></li>
          </ul>
        </div>
      </div>
    </nav>


    <div class="container">

      <div class="anchor" id="slider"></div>
      <div class="row" id="spa2Row"></div>
      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          <div id="owl-captions" class="owl-carousel owl-theme">
            <div class="item"><img src="https://via.placeholder.com/800x450" srcset="https://via.placeholder.com/1600x900 1x, https://via.placeholder.com/3200x1800 2x" class="img-responsive" alt="test1" cust-attr="carousel1-image">
              <div id="test1" >
                <h2 cust-attr="carousel1-heading">test caption1</h2></div>
            </div>
            <div class="item"><img src="https://via.placeholder.com/1600x900" srcset="https://via.placeholder.com/1600x900 1x, https://via.placeholder.com/3200x1800 2x" class="img-responsive" alt="test2" cust-attr="carousel2-image">
              <div id="test2">
                <h2 cust-attr="carousel2-heading" >test caption2</h2></div>
            </div>
            <div class="item"><img src="https://via.placeholder.com/1600x900" srcset="https://via.placeholder.com/1600x900 1x, https://via.placeholder.com/3200x1800 2x" class="img-responsive" alt="test3" cust-attr="carousel3-image">
              <div id="test3">
                <h2 cust-attr="carousel3-heading">test caption3</h2></div>
            </div>
          </div>
        </div>
      </div>

      <div id="about" class="anchor" cust-attr="abt"></div>
      <div class="row">
        <div class="col-xs-10 col-sm-5  col-md-4  col-lg-4 col-xs-offset-1  col-sm-offset-1 col-md-offset-2 col-lg-offset-2">
          <img src="https://via.placeholder.com/1200x600" srcset="https://via.placeholder.com/1200x600 1x, https://via.placeholder.com/2400x1200 2x" alt="about pasta" class="img-responsive" cust-attr="pasta">
        </div>
        <div class="col-xs-10 col-sm-5  col-md-4  col-lg-4 col-xs-offset-1 col-sm-offset-0  col-md-offset-0 col-lg-offset-0">
          <p cust-attr="pasta-text" class="text-justify">Pasta ipsum dolor sit amet bucatini timpano croxetti bavette pici sacchettoni mezzelune sagne 'ncannulate tortelloni lanterne. Agnolotti chifferi paccheri lanterne mafaldine casarecce vermicelli acini di pepe maltagliati. Rotelle lanterne maltagliati
            casarecce sagnarelli lasagne pizzoccheri tortiglioni ravioli pizzoccheri sagne 'ncannulate fusilli fettuce. </p>
        </div>
      </div>

      <br>

      <div class="row">
        <div class="image col-xs-12 col-sm-12 col-md-12 col-lg-12">
          <div id="quote" cust-attr="quote--bkd-img">

            <p cust-attr="quote--bkd-txt" id="quotetext">The problem is not the problem. The problem is your attitude about the problem.<br> - Captain Jack Sparrow</p>
          </div>

        </div>
      </div>

      <div class="anchor" id="teamSpacing"></div>
      <div class="row" id="team">
        <br>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          <div id="owl-team" class="owl-carousel owl-theme">
            <div class="item" cust-attr="item-container">
              <div class="frame"><img cust-attr="frame-img" src="https://via.placeholder.com/1000x1000" alt="team1"></div><br>
              <div id="team1">
                <h4>Captain America</h4>
                <p>the boss</p>
              </div>
            </div>
            <div class="item" cust-attr="item-container">
              <div class="frame"><img cust-attr="frame-img" src="https://via.placeholder.com/1000x1000" alt="team2"></div><br>
              <div id="team2">
                <h4>Winter Soldier</h4>
                <p>his deputy</p>
              </div>
            </div>
            <div class="item" cust-attr="item-container">
              <div class="frame"><img cust-attr="frame-img" src="https://via.placeholder.com/1000x1000" alt="team3"></div><br>
              <div id="team3">
                <h4>Spiderman</h4>
                <p>the meme</p>
              </div>
            </div>
            <div class="item" cust-attr="item-container">
              <div class="frame"><img cust-attr="frame-img" src="https://via.placeholder.com/1000x1000" alt="team4"></div><br>
              <div id="team4">
                <h4>Thor</h4>
                <p>grunt #1</p>
              </div>
            </div>
            <div class="item" cust-attr="item-container">
              <div class="frame"><img cust-attr="frame-img" src="https://via.placeholder.com/1000x1000" alt="team5"></div><br>
              <div id="team5">
                <h4>Hulk</h4>
                <p>grunt #2</p>
              </div>
            </div>
          </div>
        </div>
        <br>
      </div>


      <div class="anchor" id="contactSpacing" cust-attr="contact"></div>

      <div class="row">
        <div class=" col-xs-12  col-sm-12 col-md-12 col-lg-12">
          <div id="contact">
            <div class="row">
              <br>
              <div class="col-xs-10 col-sm-10 col-md-8  col-lg-8 col-xs-offset-1  col-sm-offset-1 col-md-offset-2 col-lg-offset-2">

                <form class="form-horizontal" role="form" id="contactForm" cust-attr="contact-form" action="/form_submit.php">
                  <div class="form-group">
                    <label for="name" class="col-sm-2 control-label" cust-attr="name--lbl">Name</label>
                    <div class="col-sm-10">
                      <input type="text" class="form-control required" id="name" name="name" placeholder="First & Last Name" value="" required cust-attr="name--input">
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="email" class="col-sm-2 control-label" cust-attr="email--lbl">Email</label>
                    <div class="col-sm-10">
                      <input type="email" class="form-control required" id="email" name="email" placeholder="example@domain.com" value="" required cust-attr="email--input">
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="message" class="col-sm-2 control-label" cust-attr="msg--lbl">Message</label>
                    <div class="col-sm-10">
                      <textarea class="form-control" rows="4" id="message" name="message" required cust-attr="name--txt"></textarea>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="col-sm-10 col-sm-offset-2">
                      <input id="submit" name="submit" type="submit" value="Send" class="btn btn-primary" cust-attr="submit-btn">
                    </div>
                  </div>
                </form>
                <div id="alert" cust-attr="alert--txt"></div>
                <br>
              </div>
            </div>
          </div>
        </div>
      </div>
      <br>

       <div class="row" id="goals">
         <button>EngagementBttn</button>
         <button onclick="()=>{pressBttnTwice('#goals > button', 'mousedown')}">Click EngagementBttn twice</button>
      </div>
      <div id="push"></div>
    </div>

    <div id="footer">
      <div class="container">
        <p>By <a href="https://krzysztofradomski.github.io/">Krzysztof Radomski</a> for <a href="http://" onclick="function redir(e){e.preventDefault(); document.location.href = 'https://google.com/';}">XXXXXX</a>. All rights reserved.</p>
      </div>
    </div>
    </div>
    <script src="https://code.jquery.com/jquery-2.2.1.min.js"
            integrity="sha256-gvQgAFzTH6trSrAWoH1iPo9Xc96QxSZ3feW6kem+O00="
            crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.js"></script>
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="/selector/client.js"></script>

    <script>
      document.querySelector('#spa1').addEventListener('click', spaNavigation);
      document.querySelector('#home').addEventListener('click', spaNavigation);
      const spa2Row = document.querySelector('#spa2Row');
      document.querySelector('#home').addEventListener('click', function() {
        if(spa2Row.childElementCount) {
          spa2Row.removeChild(spa2Row.childNodes[0])
        }
      });
      document.querySelector('#spa1').addEventListener('click', function() {
        const p = document.createElement('p');
        p.setAttribute('id', 'spa2Para');
        p.innerText = "This text is only visible of spa2 page";
        spa2Row.appendChild(p);
      });
    </script>
  </body>
</html>
